-- Tabla ACCESO
CREATE TABLE ACCESO (
    ID_ACCESO INT PRIMARY KEY,
    ACCESO VARCHAR(100),
    FECHA_CREACION DATETIME,
    FECHA_MODIFICACION DATETIME,
    ESTADO CHAR(1)
);

-- Tabla ROL
CREATE TABLE ROL (
    ID_ROL INT PRIMARY KEY,
    NOMBRE VARCHAR(100),
    FECHA_CREACION DATETIME,
    FECHA_MODIFICACION DATETIME,
    ESTADO CHAR(1)
);

-- Tabla USUARIO
CREATE TABLE USUARIO (
    ID_USUARIO INT PRIMARY KEY,
    ID_ROL INT,
    NOMBRE VARCHAR(100),
    CORREO VARCHAR(100),
    PASSWORD VARBINARY(256),
    DIRECCION VARCHAR(200),
    TELEFONO VARCHAR(20),
    FECHA_CREACION DATETIME,
    FECHA_MODIFICACION DATETIME,
    ESTADO CHAR(1),
    FOREIGN KEY (ID_ROL) REFERENCES ROL(ID_ROL)
);

-- Tabla ROL_ACCESO
CREATE TABLE ROL_ACCESO (
    ID_ROL_ACCESO INT PRIMARY KEY,
    ID_ROL INT,
    ID_ACCESO INT,
    ESTADO CHAR(1),
    FOREIGN KEY (ID_ROL) REFERENCES ROL(ID_ROL),
    FOREIGN KEY (ID_ACCESO) REFERENCES ACCESO(ID_ACCESO)
);

-- Tabla SERVICIO
CREATE TABLE SERVICIO (
    ID_SERVICIO INT PRIMARY KEY,
    NOMBRE VARCHAR(100),
    DESCRIPCION VARCHAR(255),
    FECHA_CREACION DATETIME,
    FECHA_MODIFICACION DATETIME,
    ESTADO CHAR(1)
);

-- Tabla CAMPO_SERVICIO
CREATE TABLE CAMPO_SERVICIO (
    ID_CAMPO INT PRIMARY KEY,
    ID_SERVICIO INT,
    DESCRIPCION VARCHAR(255),
    VALOR_ESTIMADO DECIMAL(10,2),
    FECHA_CREACION DATETIME,
    FECHA_MODIFICACION DATETIME,
    ESTADO CHAR(1),
    FOREIGN KEY (ID_SERVICIO) REFERENCES SERVICIO(ID_SERVICIO)
);

-- Tabla IMAGEN
CREATE TABLE IMAGEN (
    ID_IMAGEN INT PRIMARY KEY,
    ID_SERVICIO INT,
    PATH VARCHAR(255),
    CONFIG VARCHAR(255),
    FECHA_CREACION DATETIME,
    FECHA_MODIFICACION DATETIME,
    ESTADO CHAR(1),
    FOREIGN KEY (ID_SERVICIO) REFERENCES SERVICIO(ID_SERVICIO)
);

-- Tabla CONFIGURACION
CREATE TABLE CONFIGURACION (
    ID_CONFIGURACION INT PRIMARY KEY,
    ID_USUARIO INT,
    CONFIGURACION VARCHAR(100),
    FECHA_CREACION DATETIME,
    FECHA_MODIFICACION DATETIME,
    ESTADO CHAR(1),
    FOREIGN KEY (ID_USUARIO) REFERENCES USUARIO(ID_USUARIO)
);

-- Tabla CONFIGURACION_TIPO
CREATE TABLE CONFIGURACION_TIPO (
    ID_TIPO INT PRIMARY KEY,
    ID_CONFIGURACION INT,
    TIPO VARCHAR(100),
    FECHA_CREACION DATETIME,
    FECHA_MODIFICACION DATETIME,
    ESTADO CHAR(1),
    FOREIGN KEY (ID_CONFIGURACION) REFERENCES CONFIGURACION(ID_CONFIGURACION)
);

-- Tabla COTIZACION
CREATE TABLE COTIZACION (
    ID_COTIZACION INT PRIMARY KEY,
    ID_USUARIO INT,
    ID_SERVICIO INT,
    TRABAJO_ESTIMADO VARCHAR(255),
    COSTO_ESTIMADO DECIMAL(10,2),
    ESTADO_COTIZACION CHAR(1),
    FECHA_MODIFICACION DATETIME,
    FECHA_CREACION DATETIME,
    ESTADO CHAR(1),
    FOREIGN KEY (ID_USUARIO) REFERENCES USUARIO(ID_USUARIO),
    FOREIGN KEY (ID_SERVICIO) REFERENCES SERVICIO(ID_SERVICIO)
);

-- Tabla COMENTARIO
CREATE TABLE COMENTARIO (
    ID_COMENTARIO INT PRIMARY KEY,
    ID_COTIZACION INT,
    COMENTARIO VARCHAR(255),
    VALORACION INT,
    FECHA_CREACION DATETIME,
    FECHA_MODIFICACION DATETIME,
    ESTADO CHAR(1),
    FOREIGN KEY (ID_COTIZACION) REFERENCES COTIZACION(ID_COTIZACION)
);

-- Tabla DETALLE_COTIZACION
CREATE TABLE DETALLE_COTIZACION (
    ID_DETALLE INT PRIMARY KEY,
    ID_CAMPO INT,
    ID_COTIZACION INT,
    DESCRIPCION VARCHAR(255),
    VALOR_ESTIMADO DECIMAL(10,2),
    FECHA_CREACION DATETIME,
    FECHA_MODIFICACION DATETIME,
    ESTADO CHAR(1),
    FOREIGN KEY (ID_CAMPO) REFERENCES CAMPO_SERVICIO(ID_CAMPO),
    FOREIGN KEY (ID_COTIZACION) REFERENCES COTIZACION(ID_COTIZACION)
);